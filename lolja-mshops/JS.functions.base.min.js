function qd_number_format(e,t,o,a){e=(e+"").replace(/[^0-9+\-Ee.]/g,""),e=isFinite(+e)?+e:0,t=isFinite(+t)?Math.abs(t):0,a="undefined"==typeof a?",":a,o="undefined"==typeof o?".":o;var n="",n=function(e,t){var o=Math.pow(10,t);return""+(Math.round(e*o)/o).toFixed(t)},n=(t?n(e,t):""+Math.round(e)).split(".");return 3<n[0].length&&(n[0]=n[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,a)),(n[1]||"").length<t&&(n[1]=n[1]||"",n[1]+=Array(t-n[1].length+1).join("0")),n.join(o)}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),"function"!=typeof String.prototype.replaceSpecialChars&&(String.prototype.replaceSpecialChars=function(){var e={"ç":"c","æ":"ae","œ":"oe","á":"a","é":"e","í":"i","ó":"o","ú":"u","à":"a","è":"e","ì":"i","ò":"o","ù":"u","ä":"a","ë":"e","ï":"i","ö":"o","ü":"u","ÿ":"y","â":"a","ê":"e","î":"i","ô":"o","û":"u","å":"a","ã":"a","ø":"o","õ":"o",u:"u","Á":"A","É":"E","Í":"I","Ó":"O","Ú":"U","Ê":"E","Ô":"O","Ü":"U","Ã":"A","Õ":"O","À":"A","Ç":"C"};return this.replace(/[\u00e0-\u00fa]/gi,function(t){return"undefined"!=typeof e[t]?e[t]:t})}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var o;if(null==this)throw new TypeError('"this" is null or not defined');var a=Object(this),n=a.length>>>0;if(0===n)return-1;if(o=+t||0,1/0===Math.abs(o)&&(o=0),o>=n)return-1;for(o=Math.max(o>=0?o:n-Math.abs(o),0);n>o;){if(o in a&&a[o]===e)return o;o++}return-1});try{var dataImage=[],Common={run:function(){},init:function(){Common.favicon(),Common.loading(),Common.shelfImagesSize(),Common.qdAffix(),Common.amazingMenuFloating(),Common.mobileAmazingMenu(),Common.mobileSearch(),Common.miniCart(),Common.classStructure(),Common.qdOverlay(),Common.modalOders(),Common.modalAccount()},ajaxStop:function(){},windowOnload:function(){Common.facebookLikebox()},modalAccount:function(){var e=$(".qd-v1-modal").clone().appendTo(document.body).addClass("qd-v1-modal-account").removeClass("qd-v1-modal");e.find(".modal-body").append('<iframe src="https://www.mercadopago.com.br/settings/account" frameborder="0"></iframe>'),e.find(".modal-header").append("<p> Faça o login com sua conta do Mercado Livre</p>"),$(".header-qd-v1-links-user-account").click(function(t){$(document.body).removeClass(Common.qdOverlayClass),t.preventDefault(),e.modal()})},modalOders:function(){var e=$(".qd-v1-modal").clone().appendTo(document.body).addClass("qd-v1-modal-orders").removeClass("qd-v1-modal");e.find(".modal-body").append('<iframe src="//www.mercadopago.com.br/activities?type_date=custom&date_from=01%2F01%2F2015&date_to=01%2F01%2F2060&q=Lolja" frameborder="0"></iframe>'),e.find(".modal-header").append("<p> Faça o login com sua conta do Mercado Livre, para ter acesso aos seu pedidos realizado na <strong>Lolja</strong> </p>"),$(".header-qd-v1-links-user-orders").click(function(t){$(document.body).removeClass(Common.qdOverlayClass),t.preventDefault(),e.modal()})},favicon:function(){$('link[rel="shortcut icon"]').attr("href","http://qd-cdn.github.io/lolja-mshops/images/favicon.ico")},qdOverlayClass:"qd-am-on qd-sn-on",qdOverlay:function(){$(".components-qd-v1-overlay").click(function(){$(document.body).removeClass(Common.qdOverlayClass)})},loading:function(){var e=$('<div id="ajaxBusy" style="display: none;"><p>Aguarde...</p></div>');e.appendTo(document.body),$(document).ajaxStart(function(){e.show()}),$(document).ajaxStop(function(){e.hide()})},shelfImagesSize:function(){$(".shelf-qd-v1-image img, figure img").each(function(){var e=$(this);e.clone().addClass("qd-img-square").hide().insertBefore(e),e.addClass("qd-img-rectangle").attr("src",(e.attr("src")||"").replace(/Z[a-z]X/i,"ZcX"))})},facebookLikebox:function(){$(".footer-qd-v1-facebook-likebox").html(function(e,t){return t+'<div class="fb-page" data-href="https://www.facebook.com/uselolja/" data-small-header="false" data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="true"><blockquote cite="https://www.facebook.com/uselolja/" class="fb-xfbml-parse-ignore"><a href="https://www.facebook.com/uselolja/">Lolja - Use Lolja</a></blockquote></div>'})},mobileSearch:function(){$(".bnt-call-search").click(function(){$(".modal-qd-v1-search").modal()})},mobileAmazingMenu:function(){$(".amazing-menu-mobile-qd-v1-main > ul > li > ul").each(function(){var e=$(this);e.parent().addClass("qd-li-active").click(function(){var t=$(this);t.toggleClass("qd-am-is-active"),e.stop(!0,!0).slideToggle()})}),$(".bnt-call-menu-mobile").click(function(){$(document.body).toggleClass("qd-am-on")})},qdAffix:function(){$(document.body).attr("data-qd-scroll-limit","100")},amazingMenuFloating:function(){$(".floating-qd-v1-btn-call-menu").click(function(){$(document.body).toggleClass("qa-am-ft")})},spreadsheetImages:function(e,t,o){t.addClass("qd-banner-loading"),$.qdAjax({url:"https://spreadsheets.google.com/feeds/list/1GrZLkyKroQdpRGFMU23nMssxXaZ4ZgmGMocZQM7BxEs/od6/public/values?alt=json"}).done(function(a){if(a.feed.entry.length){for(var n=0;n<a.feed.entry.length;n++)a.feed.entry[n].gsx$tipodobanner.$t==e&&t.append('<a href="'+a.feed.entry[n].gsx$linkdobanner.$t+'" class="'+a.feed.entry[n].gsx$classecssnaoalterar.$t+'"><img src="'+a.feed.entry[n].gsx$urldaimagem.$t+'" alt="'+a.feed.entry[n].gsx$tipodobanner.$t+'" /></a>');"function"==typeof o&&o(),t.removeClass("qd-banner-loading")}})},shuffleArray:function(e){var t,o,a;for(a=e.length;a;a--)t=Math.floor(Math.random()*a),o=e[a-1],e[a-1]=e[t],e[t]=o},worksheetCollection:function(e,t,o,a,n,i){if(t.addClass("qd-shelf-loading"),n=n||"*",a=a||8,i)var s=$('<div class="row"> <div class="col-xs-12 col-md-8"> <div class="row"> <div class="col-xs-10 col-xs-offset-1 col-md-12 col-md-offset-0"> <h3 class="heading-3"></h3> </div> </div> <div class="shelf-qd-v1-structure"></div> </div> <div class="col-xs-12 col-md-4"> <div class="product-qd-v1-shelf-buy-together-content"></div> </div> </div>');else var s=$('<div class="row"> <div class="col-xs-12"> <div class="row"> <div class="col-xs-10 col-xs-offset-1 col-md-12 col-md-offset-0"> <h3 class="heading-3"></h3> </div> </div> <div class="carousel-qd-v1-shelf shelf-qd-v1-structure"> </div> </div> </div>');var r=$("<ul>"),d=$("#handlebars-template").html('<li class="shelf-qd-v1"> <input type="hidden" name="qd-id" value="{{id}}" /> <input type="hidden" name="qd-idSku" value="{{sku}}" /> <div class="row"> <div class="col-xs-10 col-xs-offset-1"> <div class="row"> <div class="col-xs-12"> <div class="shelf-qd-v1-image"> <a title="{{title}}" href="{{permalink}}"> {{#if pictures.0.url}} <img alt="{{title}}" title="{{title}}" src="{{pictures.0.url}}" /> {{else}} <img alt="Sem Foto" title="Sem Foto" src="{{pictures.0.url}}" /> {{/if}} </a> <div class="shelf-qd-v1-stamp"> {{#if promotion.discount_type}} <p class="shelf-qd-v1-stamp-descont"> <span>{{promotion.discount_percent}}</span> </p> {{/if}} {{#if promotion.free_shipping}} <div class="promotionFreeShippingSmall"> <span class="freeShippingText"> Frete grátis </span> </div> {{/if}} </div> </div> </div> </div> <div class="row"> <div class="col-xs-12"> <div class="shelf-qd-v1-name"> <a href="{{permalink}}" title="{{title}}">{{title}}</a> </div> </div> </div> <div class="row"> <div class="col-xs-12"> <div class="shelf-qd-v1-price"> {{#eq promotion.discount_type "percent"}} <input type="hidden" name="qd-best-price" value="{{calculatePercentage price promotion.discount_percent}}" /> <span class="shelf-qd-v1-price-best-price"> R$ {{calculatePercentage price promotion.discount_percent}} </span> <span class="shelf-qd-v1-price-old-price"> {{numberFormat price}} </span> {{else}} <input type="hidden" name="qd-best-price" value="{{numberFormat price}}" /> <span class="shelf-qd-v1-price-best-price"> {{numberFormat price}} </span> {{/eq}} </div> </div> </div> <div class="row"> <div class="col-xs-12"> <div class="shelf-qd-v1-buy-button"> <a href="{{permalink}}"> <i class="fa fa-shopping-basket" aria-hidden="true"></i> Comprar </a> </div> </div> </div> </div> </div> </li>'),c=Handlebars.compile(d.html());Common.applyCollectionData||(Common.applyCollectionAjax=$.qdAjax({url:"https://spreadsheets.google.com/feeds/list/1005BXdF3ZuxWXy-fTbeTQMPQNUrNeW_8P9fNNxDt-VA/od6/public/values?alt=json",dataType:"json",clearQueueDelay:null}).done(function(e){if(e.feed.entry.length){for(var t,o={},a=0;a<e.feed.entry.length;a++){t=e.feed.entry[a],o[t.gsx$tipodacolecao.$t]=o[t.gsx$tipodacolecao.$t]||{};var n=parseInt(t.gsx$iddoprodutopai.$t)||"*";o[t.gsx$tipodacolecao.$t][n]=o[t.gsx$tipodacolecao.$t][n]||{title:t.gsx$titulodacolecao.$t,products:[]},o[t.gsx$tipodacolecao.$t][n].products.push(t.gsx$iddoproduto.$t),"*"!=n&&(o[t.gsx$tipodacolecao.$t][t.gsx$iddoproduto.$t]=o[t.gsx$tipodacolecao.$t][t.gsx$iddoproduto.$t]||{title:t.gsx$titulodacolecao.$t,products:[]},o[t.gsx$tipodacolecao.$t][t.gsx$iddoproduto.$t].products.push(n))}Common.applyCollectionData=o}})),Common.applyCollectionAjax.done(function(){if(!Common.applyCollectionData[e]||!Common.applyCollectionData[e][n])return t.removeClass("qd-shelf-loading");var d=Common.applyCollectionData[e][n];s.find(".heading-3").html(d.title);var l=d.products;Common.shuffleArray(l),"*"!=n&&Common.applyCollectionData[e]["*"]&&(l=l.concat(Common.applyCollectionData[e]["*"].products)),i&&(l=[n].concat(l));for(var u=0,p=0,f=0;f<l.length&&a>f;f++)p++,$.qdAjax({url:"//api.mercadoshops.com/v1/shops/175429550/listings/"+l[f],dataType:"json",clearQueueDelay:null}).done(function(e){r.append(c(e))}).complete(function(){u++,u>=p&&(s.find(".shelf-qd-v1-structure").html(r),t.append(s),t.removeClass("qd-shelf-loading"),"function"==typeof o&&o())})})},miniCart:function(){var e=/[^0-9]+/gi,t=function(){return $.qdAjax({url:"/cart",dataType:"html"})},o=function(e,t){e?(t.addClass("qd-minicart-loading"),a($.ajax({url:e}))):alert("Ocorreu um erro! :(")},a=function(t){t.done(function(t){$data=$(t),function(){var e=0;$data.find(".itemQtyField").each(function(){e+=parseInt($(this).val())||0}),$(".header-qd-v1-mini-cart-value").text(e)}(),function(){if(!$data.find(".noProd").length||$(".qd-minicart-items tr").length){$cartHtml=$('<div class="qd-minicart-dropdown" aria-hidden="true"><div class="qd-minicart-space"><span>Fechar</span></div><div class="qd-minicart-wrapper"><table class="qd-minicart-items"><tr><td class="qd-minicart-img"></td><td class="qd-minicart-name"></td><td class="qd-minicart-info"><span><span class="qd-minicart-price">Por: <span>---</span></span><span class="qd-minicart-remove"><i class="fa fa-times-circle"></i></span></span></td></tr></table><div class="qd-minicart-footer-wrapper"><table class="qd-minicart-footer"><tr><td class="qd-minicart-total">Total: <span>---</span></td><td><a href="/cart" class="qd-minicart-checkout"><i class="fa fa-shopping-basket"></i> Finalizar compra </a></td></tr></table></div></div></div>');var t=$cartHtml.find(".qd-minicart-items tr");$data.find("ul.tbody").each(function(){var a=t.clone(),n=$(this);if(n.find(".deleteRow").length){a.find(".qd-minicart-img").append(n.find(".colFoto img")),a.find(".qd-minicart-name").append(n.find(".colTitulo .title"));var i=n.find(".colPrice");i.find("del").remove(),a.find(".qd-minicart-price span").text("R$ "+qd_number_format(parseInt(i.text().trim().replace(e,""))/100,2,",",".")),a.find(".qd-minicart-remove i").click(function(){o(n.find(".deleteRow .delete").attr("href"),$cartHtml)}),a.insertBefore(t)}}),t.remove(),$cartHtml.find(".qd-minicart-total span").text("R$ "+qd_number_format(parseInt($data.find("#total-to-pay").text().trim().replace(e,""))/100,2,",",".")),$cartHtml.find(".qd-minicart-space").click(function(){$(".qd-minicart-dropdown").removeClass("qd-minicart-mobile"),$(document.body).removeClass("qd-minicart-mobile-opened")}),$(".qd-minicart-dropdown").remove(),$cartHtml.appendTo(".header-qd-v1-mini-cart")}}()})};a(t()),$(".floating-mobile-qd-v1 .header-qd-v1-cart-link").click(function(e){e.preventDefault(),$(this).siblings(".qd-minicart-dropdown").length&&($(this).siblings(".qd-minicart-dropdown").toggleClass("qd-minicart-mobile"),$(document.body).toggleClass("qd-minicart-mobile-opened"))})},classStructure:function(){$(".component.categoriesPath").attr("class","breadcrumbs-qd-v1 clearfix")}},Home={init:function(){Home.sliderFull(),Home.brandCarroussel(),Home.bannerCollection(),Home.bannerMosaic(),Home.applyCarouselShelf(),Home.applyCarouselBannerShelf(),Home.bannerFranchise(),Home.formNewsLetter(),Home.collections()},ajaxStop:function(){},windowOnload:function(){},formNewsLetter:function(){$.getScript("//qd-cdn.github.io/lolja-mshops/JS.jquery.validate.min.js"),$(".newsletter-qd-v1").html('<div class="row"> <div class="col-xs-12 col-md-6"> <div class="newsletter-qd-v1-banner"></div> </div> <div class="col-xs-12 col-md-6"> <div class="row"> <div class="col-xs-10 col-xs-offset-1"> <div class="newsletter-qd-v1-content"> <h3 class="newsletter-qd-v1-title">Mantenha-se atualizado</h3> <p class="newsletter-qd-v1-sub-title">Fique sabendo das nossas promoções, descontos e novidades em primeira mão!</p> <div class="newsletter-qd-v1-form"> <form> <input class="qd_news_email input-type-text required email" type="text" name="email" placeholder="Digite aqui seu e-mail" /> <input class="qd_news_animate_field_success" value="Obrigado!" type="text" style="display: none" /> <button class="qd_news_button" type="submit">ENVIAR <i class="fa fa-paper-plane" aria-hidden="true"></i> </button> </form> </div> <div class="social-qd-v1-list"> <ul> <li><a href="https://www.facebook.com/uselolja/?fref=ts" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i></a></li> <li><a href="https://www.instagram.com/uselolja/?hl=pt-br" target="_blank"><i class="fa fa-instagram" aria-hidden="true"></i></a></li> <li><a href="https://twitter.com/uselolja" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a></li> <!-- <li><a href="" target="_blank"><i class="fa fa-rss" aria-hidden="true"></i></a></li> --> </ul> </div> </div> </div> </div> </div> </div>');var e=$(".newsletter-qd-v1-form form");$(".newsletter-qd-v1-form .qd_news_button").click(function(){"function"==typeof $.fn.validate&&(e.validate({submitHandler:function(e){var t=$(e);t.valid()&&(t.find(".qd_news_email").hide(),t.find(".qd_news_animate_field_success").show())}}),e.submit())}),Home.bannerNewsLetter()},collections:function(){Common.worksheetCollection("Home - Coleção Abaixo do Mosaico 1",$(".home-qd-v1-shelf-collections"),function(){Home.applyCarouselShelf()}),Common.worksheetCollection("Home - Coleção Abaixo do Mosaico 2",$(".home-qd-v1-shelf-collections"),function(){Home.applyCarouselShelf()})},bannerNewsLetter:function(){Common.spreadsheetImages("Banner NewsLetter",$(".newsletter-qd-v1-banner"))},bannerFranchise:function(){Common.spreadsheetImages("Banner de Franquia",$(".banner-franchise-qd-v1"))},bannerMosaic:function(){var e=$(".banner-mosaic-qd-v1");Common.spreadsheetImages("Banner Mosaic",e,function(){function t(o){var a,n=new $;o.length&&(o.each(function(){var e=$(this),t=e.offset().top;return a||(a=t),t>=a-9&&a+9>=t?void(n=n.add(e)):!1}),n.wrapAll('<div class="row"></div>'),t(e.find("> a")))}t(e.find("> a"))})},applyCarouselShelf:function(){var e=$(".carousel-qd-v1-shelf ul:not(.qd-on)").addClass("qd-on");return e.length?void e.slick({prevArrow:'<button type="button" class="slick-prev"><i class="fa fa-angle-left" aria-hidden="true"></i></button>',nextArrow:'<button type="button" class="slick-next"><i class="fa fa-angle-right" aria-hidden="true"></i></button>',slidesToShow:4,slidesToScroll:4,infinite:!0,draggable:!1,speed:700,responsive:[{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:991,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1}}]}):!1},applyCarouselBannerShelf:function(){var e=$(".banner-collection-qd-v1-collection ul");return e.length?void e.slick({prevArrow:'<button type="button" class="slick-prev"><i class="fa fa-angle-left" aria-hidden="true"></i></button>',nextArrow:'<button type="button" class="slick-next"><i class="fa fa-angle-right" aria-hidden="true"></i></button>',slidesToShow:2,slidesToScroll:2,infinite:!0,draggable:!1,speed:700,responsive:[{breakpoint:1200,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:991,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1}}]}):!1},bannerCollection:function(){var e=$(".banner-collection-qd-v1-banner");Common.spreadsheetImages("Banner Categoria Home",e)},brandCarroussel:function(){var e=$(".brand-qd-v1-slider");Common.spreadsheetImages("Banner de Marca",e,function(){e.slick({prevArrow:'<button type="button" class="slick-prev"><i class="fa fa-angle-left" aria-hidden="true"></i></button>',nextArrow:'<button type="button" class="slick-next"><i class="fa fa-angle-right" aria-hidden="true"></i></button>',slidesToShow:4,slidesToScroll:1,infinite:!0,speed:700,responsive:[{breakpoint:991,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:550,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:380,settings:{slidesToShow:1,slidesToScroll:1}}]})})},sliderFull:function(){$(".slider-qd-v1-full").slick({dots:!0,fade:!0,cssEase:"linear",infinite:!0,speed:500,draggable:!1})}},Search={init:function(){Search.setElStructure(),Search.shelfLineFix(),Search.insertBuyButton(),Search.createCategoryList(),Search.setCategoryListTitle(),Search.setEmptySearchText()},ajaxStop:function(){Search.shelfLineFix()},windowOnload:function(){Search.shelfLineFix()},shelfLineFix:function(){try{var e=function(){var e,t=$(".search-qd-v1-results > ol.component.item-gallery:not('.qd-fi-on')").addClass("qd-fi-on"),o=t.children("li").removeClass("qd-first-line");o.first().addClass("qd-first-line");var a=function(){o.each(function(){var t=$(this);if(t.is(".qd-first-line"))return e=t.offset().top,void(o=o.not(t));var a=t.offset().top;return a>=e-10&&e+10>=a?void(o=o.not(t)):(t.addClass("qd-first-line"),!1)}),o.length&&a()};a()};e(),window.qd_shelf_line_fix_||($(window).on("QuatroDigital.sr_shelfCallback",e),window.qd_shelf_line_fix_=!0);var t=$._data(window).events.resize,o=!0;if(t)for(var a=0;a<t.length;a++)if("qd"==t[a].namespace){o=!1;break}if(o){var n=0;$(window).on("resize.qd",function(){clearTimeout(n),n=setTimeout(function(){$(".qd-first-line").removeClass(".qd-first-line"),e()},20)})}}catch(i){"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Problemas :( . Detalhes: "+i.message)}},setElStructure:function(){var e=$(".searchResults");e.children().wrapAll('<div class="container search-qd-v1-wrapper" />').wrap('<div class="row" />').filter(function(){return $t=$(this),$t.is(".breadcrumbs-qd-v1")||$t.filter(".clearfix.background").has("#lnk-list").addClass("search-qd-v1-filter-wrapper")}).wrap('<div class="col-xs-12" />'),e.find(".rowsWrapper").addClass("search-qd-v1-results").wrap('<div class="row"><div class="col-xs-12 col-md-9" /></div>').parent().before('<div class="col-xs-12 col-md-3"><div class="search-qd-v1-category-list-wrapper"></div></div>'),$(e.find("> div > .row")[2]).before($('<div class="search-qd-v1-navigator-btn-wrapper"><div class="row"><div class="col-xs-12"></div></div></div>').append($('<a class="search-qd-v1-navigator-trigger" href="#" role="button">Filtrar resultado</a>').click(function(e){e.preventDefault(),$(document.body).addClass("qd-sn-on")})))},insertBuyButton:function(){$(".search-qd-v1-results li > article").append(function(){return'<div class="shelf-qd-v1-buy-button"> <a href="'+$(this).find("a").first().attr("href")+'" tabindex="0"><i class="fa fa-shopping-basket" aria-hidden="true"></i> Comprar</a> </div>'})},createCategoryList:function(){var e=$(".search-qd-v1-category-list-wrapper").append('<h1 class="search-qd-v1-category-list-title">Categorias</h1>').append($('<div class="search-qd-v1-menu-close"><i class="fa fa-close"></i></div>').click(function(){$(document.body).removeClass("qd-sn-on")}));$.ajax({url:"//api.mercadoshops.com/v1/shops/175429550/categories/tree",success:function(t){firstList=$('<ul class="search-qd-v1-category-list qd-list-1"></ul>'),e.append(firstList),function o(e,t,a,n){var i=1==n?"h2":"p",s=Array.isArray(e[a].children),r=$('<li class="qd-level-'+n+(s?" qd-has-dropdown":"")+'" />').append("<"+i+'><a href="'+e[a].permalink+'">'+e[a].name+"</a></"+i+">");s&&(r.append($('<span class="search-qd-v1-menu-arrow"><i class="fa fa-sort-down"></i></span>').click(function(){$(this).parent().toggleClass("qd-active")})),o(e[a].children,$('<ul class="qd-list-'+(n+1).toString()+'" />').appendTo(r),0,n+1)),r.appendTo(t),a++,e.length>a&&o(e,t,a,n)}(t,firstList,0,1)}})},setCategoryListTitle:function(){$(".search-qd-v1-category-list-title").text(function(){var e=$(".breadcrumbs-qd-v1 li").last().text();if(-1==e.indexOf('Resultados para "'))return e;var t=e.match(/^Resultados para \"([\s\S]+)\"$/);return(t||[]).length<2?"Busca":t[1]})},setEmptySearchText:function(){0==$(".breadcrumbs-qd-v1 li").last().text().indexOf('Não há resultados para "')&&($(document.body).addClass("qd-empty-search"),$(".search-qd-v1-wrapper").append('<div class="search-empty-qd-v1-wrapper"> <div class="row"> <div class="col-xs-6 img-responsive"> <img src="//qd-cdn.github.io/lolja-mshops/images/empty-search-qd-v1.png" alt="" /> </div> <div class="col-xs-6"> <div class="row"> <div class="col-xs-10 col-xs-offset-1"> <div class="search-empty-qd-v1-block"> <h4>Ops! O item procurado não pode ser encontrado.</h4> <p>Confira se você digitou as palavras corretamente ou tente novamente a busca.</p> <strong>Dicas para melhorar a sua busca:</strong> <p>- Verifique se houve erro de digitação;</p> <p>- Procure por um termo similar ou sinônimo;</p> <p>- Tente procurar por palavras-chave mais gerais e filtrar o resultado de busca;</p> <p>- Tente utilizar uma única palavra.</p> </div> </div> </div> </div> </div> </div>'))}},Product={run:function(){},init:function(){Product.pageStructure(),Product.imageStructure(),Product.bannerTop(),Product.qdSeeDescription(),Product.facebookComments(),Product.newsletterFooter(),Product.floating(),Product.tableSize(),Product.shelfBuyTogether(),Product.shelfSimilar(),Product.shelfCollections(),Product.affix()},ajaxStop:function(){},windowOnload:function(){},addToCart:function(e){return $.ajax({url:"/cartactions",type:"POST",data:{axn:"add",itemId:e,qty:1}})},shelfBuyTogether:function(){var e=$(".product-qd-v1-shelf-buy-together"),t=$('<span class="product-qd-v1-buy-button"><i class="fa fa-shopping-basket" aria-hidden="true"></i> comprar junto</span>'),o=$('<span class="product-qd-v1-error hide"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Selecione a variação</span>');t.click(function(){var t=!1;return e.find(".product-qd-v1-sku-main").each(function(){var e=$(this);return e.val()?void e.parent().find("select").removeClass("error"):(t=!0,void e.parent().find("select").addClass("error"))}),t?($("html, body").stop().animate({scrollTop:$(".product-qd-v1-shelf-buy-together").offset().top-100},900,"swing"),o.removeClass("hide")):(o.addClass("hide"),void Product.addToCart($($(".product-qd-v1-sku-main")[0]).val()).complete(function(){Product.addToCart($($(".product-qd-v1-sku-main")[1]).val()).complete(function(){window.location.href="/cart"})}))}),Common.worksheetCollection("Produto - Compre Junto",e,function(){$(".product-qd-v1-shelf-buy-together-content").appendTo("");var a=0;dataSkus={},e.find(".shelf-qd-v1").each(function(){var e=$(this),t=e.find('input[name="qd-id"]').val(),o=e.find('input[name="qd-idSku"]').val();a+=parseFloat(e.find('input[name="qd-best-price"]').val().replace(",",".")),$.qdAjax({url:"/api/available_variations",type:"POST",data:{sku:o,itemId:t}}).done(function(o){var a=$('<select class="product-qd-v1-sku-1">');dataSkus[t]=o.values,a.append('<option value="">'+o.first_variation_name+"</option>");for(skuValue1 in o.values){var n=dataSkus[t][skuValue1];n.use_stock&&n.stock>=1?a.append('<option value="'+n.id+'">'+skuValue1+"</option>"):a.append('<option value="'+n.id+'">'+skuValue1+"</option>")}o.second_variation_name?e.append(a,'<select class="product-qd-v1-sku-main product-qd-v1-sku-2 hide"></select>'):e.append(a.addClass("product-qd-v1-sku-main"));var i=e.find(".product-qd-v1-sku-2");a.on("change",function(){if(o.second_variation_name){if(i.html("").append('<option value="">'+o.second_variation_name+"</option>"),"undefined"==typeof dataSkus[t][this.value])return i.addClass("hide");for(skuValue2 in dataSkus[t][this.value].values){var e=dataSkus[t][this.value].values[skuValue2];e.use_stock||i.append('<option value="'+e.itemIdString+'">'+skuValue2+"</option>")}i.removeClass("hide")}})}).error(function(){e.append('<input type="hidden" class="product-qd-v1-sku-main" value="'+t+'" />')})}),$(".product-qd-v1-shelf-buy-together-content").append('<span class="qd-v1-best-price">R$ '+qd_number_format(a,2,",",".")+'</span> <span class="qd-v1-instalment">ou 12x de R$ '+qd_number_format(a/12,2,",",".")+"</span>",t,o)},2,$('input[name="itemId"]').val(),!0)},shelfSimilar:function(){Common.worksheetCollection("Produto - Coleção de Produtos Similares",$(".product-qd-v1-shelf-similar"),function(){Home.applyCarouselShelf()},8,$('input[name="itemId"]').val())},shelfCollections:function(){Common.worksheetCollection("Produto - Coleção",$(".product-qd-v1-shelf-collections"),function(){Home.applyCarouselShelf()})},tableSize:function(){var e=$('<span class="product-qd-v1-table-size-link">Tabela de Medidas</span>');e.click(function(e){e.preventDefault(),$('a[href="#tabTableSize"]').click(),$("html, body").stop().animate({scrollTop:$(".prodDescription").offset().top-100},900,"swing")});var t=window.mshops.vip.refreshVisualCombo;window.mshops.vip.refreshVisualCombo=function(){t.apply(t,arguments),$("#my-var-container .variation-container li").each(function(){var t=$(this);if("tamanho"===t.text().toLowerCase()){t.getParent(".ContentVariation").after(e);var o=$(".prodDescription");return o.find(".ch-tabNavigator-triggers").append('<li><a href="#tabTableSize" role="tab" arial-controls="tabTableSize" class="ch-tab-trigger">Tabela de Medidas</a></li>'),o.find(".ch-tabNavigator-content").append('<article id="tabTableSize" role="tabpanel" aria-hidden="true" class="ch-hide"> <div class="img-responsive"> <img src="//lolja.com.br/__lolja/imgs/medidas-masc.png" alt="" /> </div> </article>'),o.tabNavigator(),!1}})}},floating:function(){var e=$(".product-qd-v1-sku-selection-box"),t=$('<div class="product-qd-v1-floating product-qd-v1-sku-selection-box vip"> <div class="container"> <div class="row"> <div class="col-xs-3 col-md-1"> <div class="product-qd-v1-floating-image img-responsive"></div> </div> <div class="col-xs-9 col-md-11"> <div class="row"> <div class="col-xs-12 col-md-5"> <div class="product-qd-v1-floating-name"></div> </div> <div class="col-xs-6 col-md-3"> <div class="product-qd-v1-floating-price"></div> </div> <div class="col-xs-6 col-md-3"> <div class="product-qd-v1-floating-btn"> <span class="product-qd-v1-floating-error"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> ESCOLHA A VARIAÇÃO DE PRODUTO </span> <a href="#">Comprar</a> </div> </div> </div> <span class="product-qd-v1-floating-error"> <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> ESCOLHA A VARIAÇÃO DE PRODUTO </span> </div> </div> </div> </div>');t.find(".product-qd-v1-floating-image").append('<img src="'+($(".vip-pub-image:first img").attr("src")||"").replace(/-[a-z]\.jpg/i,"-D.jpg")+'" />'),t.find(".product-qd-v1-floating-name").append("<h2>"+e.find("h1.title").text()+"</h2>"),t.find(".product-qd-v1-floating-price").append(e.find(".PaymentList li:first").html()),$(document.body).append(t),t.find(".product-qd-v1-floating-btn").click(function(o){o.preventDefault();var a=mshops&&mshops.vip&&mshops.vip.variations;return"undefined"==typeof a?void e.find(".addCart").click():void(a.validate()?(t.find(".product-qd-v1-floating-error").css("display","none"),e.find(".addCart").click()):t.find(".product-qd-v1-floating-error").css("display","block"))})},affix:function(){$(".product-qd-v1-sku-selection-fixed").QD_affix({topSpacing:100,bottomLimitSeletor:".product-qd-v1-shelf-buy-together"})},imageStructure:function(){$(".ch-viewervip").find(".vip-pub-image img").each(function(){var e=$(this);e.attr("src",(e.attr("src")||"").replace(/-[a-z]\.jpg/i,"-F.jpg"))})},newsletterFooter:function(){$(".ch-g1.mainContent > .ch-container").after('<div class="newsletter-qd-v1"></div>'),Home.formNewsLetter()},facebookComments:function(){$(".prodDescription").after('<div id="fb-comments-box" class="third-party-component hidden-xs hidden-sm col-xs-12"> <h2 class="heading-3"> Confira as opniões sobre esse produto </h2> <div class="row"> <div class="col-xs-10 col-xs-offset-1"> <div data-num-posts="4" data-width="100%" class="fb-comments"></div> </div> </div> </div>')},qdSeeDescription:function(){$(".product-qd-v1-details").click(function(e){e.preventDefault(),$("html, body").stop().animate({scrollTop:$(".prodDescription").offset().top-100},900,"swing")})},pageStructure:function(){$(".ch-g1.main.wrapper").attr("class","container").before('<div class="product-qd-v1-banner"></div>'),$(".ch-container.oneColumn").attr("class","row"),$(".ch-g4-10").attr("class","col-xs-10 col-xs-offset-1 col-md-8 col-md-offset-0"),$(".ch-g6-10").attr("class","col-xs-10 col-xs-offset-1 col-md-4 col-md-offset-0 product-qd-v1-sku-selection-fixed"),$(".component.vip").addClass("product-qd-v1-sku-selection-box"),$(".ms-shipping-calculator-container").insertAfter($(".product-qd-v1-sku-selection-box")),$(".addCart").after('<span class="product-qd-v1-details">Ver detalhes do produto</span>'),$(".prodDescription").addClass("col-xs-10 col-xs-offset-1 col-md-12 col-md-offset-0"),$(".product-qd-v1-sku-selection-fixed").after('<div class="col-xs-12"> <div class="product-qd-v1-shelf-buy-together"></div> <div class="product-qd-v1-shelf-similar"></div> <div class="product-qd-v1-shelf-collections"></div> </div>');var e=$(".PaymentList li:first .priceInfo");1==e.length&&e.first().addClass("qd-best-price")},bannerTop:function(){Common.spreadsheetImages("Banner Página de Produto",$(".product-qd-v1-banner"))}},List={run:function(){},init:function(){},ajaxStop:function(){},windowOnload:function(){}},Institutional={init:function(){Institutional.contactFormStructure(),Institutional.pageStructure()},ajaxStop:function(){},windowOnload:function(){},pageStructure:function(){$(document.body).is("#page-STATIC")&&$(".ch-g1.mainContent .ch-container").last().addClass("institutional-qd-v1-wrapper").wrapInner('<div class="container" />')},contactFormStructure:function(){if($(document.body).is("#page-CONTACT")){$(".ch-g1.mainContent .ch-container").last().addClass("contact-form-qd-v1-wrapper").wrapInner('<div class="container" />');var e=$(".component.social");e.nextAll().add(e).hide()}}},Orders={init:function(){},ajaxStop:function(){},windowOnload:function(){}},Checkout={init:function(){Checkout.buttonGoToPayment(),Checkout.pageStructure(),Checkout.imageStructure(),Checkout.bannerTop()},ajaxStop:function(){},windowOnload:function(){},buttonGoToPayment:function(){$('<span class="qd-btn-go-to-payment">FECHAR PEDIDO</span>').click(function(){$("#newBuyCart-submit").click()}).insertBefore($(".ch-actions.cart"))},imageStructure:function(){$(".carritoresp .colFoto img").each(function(){var e=$(this);e.attr("src",(e.attr("src")||"").replace(/-[a-z]\.jpg/i,"-E.jpg"))})},pageStructure:function(){$(".ch-g1.main.wrapper").attr("class","container").before('<div class="product-qd-v1-banner"></div>'),$(".ch-g1.mainContent .ch-container").last().addClass("checkout-qd-v1-wrapper").wrapInner('<div class="container" />'),$("#couponCode").getParent(".item").addClass("checkout-qd-v1-coupon"),$(".subtotal").addClass("checkout-qd-v1-subtotal"),$("#ms-shipping-calculator-container").getParent(".item").addClass("checkout-qd-v1-shipping"),$(".colFoto").each(function(){$(this).getParent(".item").addClass("checkout-qd-v1-item")})},bannerTop:function(){Common.spreadsheetImages("Banner Página de Checkout",$(".product-qd-v1-banner"));
}}}catch(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Houve um erro nos objetos. Detalhes: "+e.message)}try{!function(){var e,t,o;o=function(){Common.windowOnload(),e.is("#page-HOME")?Home.windowOnload():e.is("#page-RESULT")?Search.windowOnload():e.is("#page-VIP")?Product.windowOnload():e.is("#page-CONTACT, #page-STATIC")?Institutional.windowOnload():e.is("#page-CART")&&Checkout.windowOnload()},t=function(){Common.ajaxStop(),e.is("#page-HOME")?Home.ajaxStop():e.is("#page-RESULT")?Search.ajaxStop():e.is("#page-VIP")?Product.ajaxStop():e.is("#page-CONTACT, #page-STATIC")?Institutional.ajaxStop():e.is("#page-CART")&&Checkout.ajaxStop()},$(function(){e=$(document.body),Common.init(),e.is("#page-HOME")?Home.init():e.is("#page-RESULT")?Search.init():e.is("#page-VIP")?Product.init():e.is("#page-CONTACT, #page-STATIC")?Institutional.init():e.is("#page-CART")&&Checkout.init(),$(document).ajaxStop(t),$(window).load(o),e.addClass("jsFullLoaded")}),Common.run()}()}catch(e){"undefined"!=typeof console&&"function"==typeof console.error&&$("body").addClass("jsFullLoaded jsFullLoadedError")&&console.error("Houve um erro ao iniciar os objetos. Detalhes: "+e.message)}!function(e){e.fn.getParent=e.fn.closest}(jQuery),function(){var e=jQuery,t=function(e,t){if("object"==typeof console&&"undefined"!=typeof console.error&&"undefined"!=typeof console.info&&"undefined"!=typeof console.warn){var o;if("object"==typeof e?(e.unshift("[QD Scroll Toggle]\n"),o=e):o=["[QD Scroll Toggle]\n"+e],"undefined"==typeof t||"alerta"!==t.toLowerCase()&&"aviso"!==t.toLowerCase())if("undefined"!=typeof t&&"info"===t.toLowerCase())try{console.info.apply(console,o)}catch(a){try{console.info(o.join("\n"))}catch(n){}}else try{console.error.apply(console,o)}catch(i){try{console.error(o.join("\n"))}catch(s){}}else try{console.warn.apply(console,o)}catch(r){try{console.warn(o.join("\n"))}catch(d){}}}};"function"!=typeof e.QD_scrollToggle&&(e.QD_scrollToggle=function(o){var a=[];if("string"!=typeof o&&"number"!=typeof o||"auto"===o){if("auto"!==o)return t("Não foi informado o limite de scroll necessário para adicionar o atributo.");a.push(e(window).height())}else{var n,i=o.split(",");for(n in i)"function"!=typeof i[n]&&(o=parseInt(i[n].trim()),isNaN(o)||a.push(o))}if(!a.length)return t("Aaeeeeeeee irmão! Não consegui encontrar nenhum valor para calcular o scroll");if(!document||!document.body||"undefined"==typeof document.body.setAttribute)return t('"document.body.setAttribute" Não é uma função :(');if(!document||!document.body||"undefined"==typeof document.body.removeAttribute)return t('"document.body.removeAttribute" Não é uma função :(');if(!document||!document.body||"undefined"==typeof document.body.getAttribute)return t('"document.body.getAttribute" Não é uma função :(');if(!e(window).scrollTop||isNaN(parseInt(e(window).scrollTop())))return t('"$(window).scrollTop" não esta retornando um número inteiro :(');try{document.body.setAttribute("data-qd-scroll",1),document.body.getAttribute("data-qd-scroll"),document.body.removeAttribute("data-qd-scroll"),document.body.getAttribute("data-qd-scroll")}catch(s){t("Não foi possível fazer o passo a passo de consultar, adicionar e remover um atributo",s.message)}e(window).scroll(function(){for(var t=0;t<a.length;t++)e(window).scrollTop()>a[t]?document.body.getAttribute("data-qd-scroll-"+t)||document.body.setAttribute("data-qd-scroll-"+t,1):document.body.getAttribute("data-qd-scroll-"+t)&&document.body.removeAttribute("data-qd-scroll-"+t)})},e(function(){var t=e("body[data-qd-scroll-limit]");t.length&&e.QD_scrollToggle(t.attr("data-qd-scroll-limit"))}))}(),$(window).load(function(){var e=$(".fb-comments");if(e.length&&e.attr("data-href",document.location.href.split("#").shift().split("?").shift()),$("#fb-root").length||$("body").append('<div id="fb-root"></div>'),!$("script#facebook-jssdk").length){e=$("meta[property='fb:app_id']").attr("content")||!1;var t,o=document.getElementsByTagName("script")[0];document.getElementById("facebook-jssdk")||(t=document.createElement("script"),t.id="facebook-jssdk",t.src="//connect.facebook.net/pt_BR/sdk.js#xfbml=1&version=v2.3"+(e?"&appId="+e:""),o.parentNode.insertBefore(t,o))}"undefined"!=typeof FB&&"undefined"!=typeof FB.XFBML&&FB.XFBML.parse()}),function(e){if("function"!=typeof e.qdAjax){var t={};e.qdAjaxQueue=t,150>parseInt((e.fn.jquery.replace(/[^0-9]+/g,"")+"000").slice(0,3),10)&&console&&"function"==typeof console.error&&console.error(),e.qdAjax=function(o){try{var a,n=e.extend({},{url:"",type:"GET",data:"",success:function(){},error:function(){},complete:function(){},clearQueueDelay:5},o);a="object"==typeof n.data?JSON.stringify(n.data):n.data.toString();var i=encodeURIComponent(n.url+"|"+n.type+"|"+a);return t[i]=t[i]||{},"undefined"==typeof t[i].jqXHR?t[i].jqXHR=e.ajax(n):(t[i].jqXHR.done(n.success),t[i].jqXHR.fail(n.error),t[i].jqXHR.always(n.complete)),t[i].jqXHR.always(function(){isNaN(parseInt(n.clearQueueDelay))||setTimeout(function(){t[i].jqXHR=void 0},n.clearQueueDelay)}),t[i].jqXHR}catch(s){"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Problemas no $.qdAjax :( . Detalhes: "+s.message)}},e.qdAjax.version="4.0"}}(jQuery),function(e,t){if("function"!=typeof t.fn.QD_affix){var o=function(e,t){if("object"==typeof console&&"undefined"!=typeof console.error&&"undefined"!=typeof console.info&&"undefined"!=typeof console.warn){var o;if("object"==typeof e?(e.unshift("[Quatro Digital - Affix]\n"),o=e):o=["[Quatro Digital - Affix]\n"+e],"undefined"==typeof t||"alerta"!==t.toLowerCase()&&"aviso"!==t.toLowerCase())if("undefined"!=typeof t&&"info"===t.toLowerCase())try{console.info.apply(console,o)}catch(a){try{console.info(o.join("\n"))}catch(n){}}else try{console.error.apply(console,o)}catch(i){try{console.error(o.join("\n"))}catch(s){}}else try{console.warn.apply(console,o)}catch(r){try{console.warn(o.join("\n"))}catch(d){}}}},a={topSpacing:20,bottomSpacing:20,bottomLimitSeletor:!1,css:{position:"relative"}},n=t(window);n.width();var i=n.height(),s=function(e){var o=e;t(function(){n.resize(function(){o()})}),n.load(function(){o=function(){},n.resize(e)})};s(function(){n.width(),i=n.height()}),t(function(){n.width(),i=n.height()});var r=function(e,a){if(e.is(".qd-affix-on"))return o("Execução ignorada pois a classe 'qd-affix-on' foi encontrado o que significa que este elemento já teve o plugin aplicado","aviso"),e;e.addClass("qd-affix-on");try{e.css(a.css);var r,d,c=function(){d=r=e.offset(),d.top=r.top-a.topSpacing};c();var l=!1;e.width();var u,p,f=e.height(),m=function(){e.width(),f=e.height(),l=f+a.topSpacing+a.bottomSpacing>i,v&&(p=u.offset())},v=!1;!function(){if(a.bottomLimitSeletor){u=t(a.bottomLimitSeletor).first();var e=u.offset();e&&(v=!0,p=e)}}();var h=0,g=0,b=0,q=0,y=0,$=!1,w=0,C=0,x=function(){if(clearTimeout(b),b=setTimeout(m,25),5>C&&(e[0].style.top=0,c(),C+=1),y=window.scrollY||document.documentElement.scrollTop,$=0!==y&&q>=y?!0:!1,q=y,v&&l){if(y+i>p.top&&e.offset().top+a.topSpacing+f+a.bottomSpacing>p.top)return void(e[0].style.top=p.top-r.top-(a.topSpacing+f+a.bottomSpacing)+"px")}else if(v&&y+a.topSpacing+f+a.bottomSpacing>p.top)return;l?$?(h=y-d.top,h>-1&&e.offset().top-a.topSpacing>y&&(e[0].style.top=y-d.top+"px")):(h=r.top+f+a.bottomSpacing,g=y+i,g>h?y+i>e.offset().top+f+a.bottomSpacing&&(e[0].style.top=g-h-a.bottomSpacing+"px"):e[0].style.top=0):(h=y-d.top,e[0].style.top=h>-1?h+"px":0)};n.scroll(function(){x(),clearTimeout(w),w=setTimeout(x,50)}),s(function(){m(),x()}),n.load(function(){m(),x()}),x()}catch(S){o("Erro: "+S.message)}};t.fn.QD_affix=function(e){var o=t(this);if(!o.length)return o;var n=t.extend({},a,e);return o.each(function(){var e=t(this);e.qdPlugin=new r(e,n)}),o},t(function(){t(".qd_auto_affix").QD_affix()})}}(window,jQuery);
