"function"!==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});(function(d){"function"!==typeof d.fn.QD_infinityScroll&&(window._QuatroDigital_InfinityScroll=window._QuatroDigital_InfinityScroll||{},d.fn.QD_infinityScroll=function(e){var i=window._QuatroDigital_InfinityScroll,r=function(e,t){if("object"===typeof console&&"undefined"!==typeof console.error&&"undefined"!==typeof console.info&&"undefined"!==typeof console.warn){var n;"object"===typeof e?(e.unshift("[Infinity Scroll]\n"),n=e):n=["[Infinity Scroll]\n"+e];if("undefined"===typeof t||"alerta"!==t.toLowerCase()&&"aviso"!==t.toLowerCase())if("undefined"!==typeof t&&"info"===t.toLowerCase())try{console.info.apply(console,n)}catch(e){try{console.info(n.join("\n"))}catch(e){}}else try{console.error.apply(console,n)}catch(e){try{console.error(n.join("\n"))}catch(e){}}else try{console.warn.apply(console,n)}catch(e){try{console.warn(n.join("\n"))}catch(e){}}}},t={lastShelf:">div:last",elemLoading:'\x3c!-- Infinity Scroll - Loading message --\x3e<div id="scrollLoading" class="qd-is-loading">Carregando ... </div>',searchUrl:null,returnToTop:d('<div id="returnToTop" class="qd-is-return-top"><a href="#"><span class="text">voltar ao</span><span class="text2">TOPO</span><span class="arrowToTop"></span></a></div>'),scrollBy:document,callback:function(){},getShelfHeight:function(e){return e.scrollTop()+e.height()},paginate:null,insertContent:function(e,t){e.after(t)},authorizeScroll:function(){return!0}},a=jQuery.extend({},t,e),l=jQuery(this);jQuery("");if(1>l.length)return l;1<l.length&&(r("Identifiquei que a seletor informado ("+l.selector+") retornou "+l.length+" elementos.\n Para solucionar o problema estou selecionando automáticamente o primeiro com o id: #"+(l.filter("[id^=ResultItems]:first").attr("id")||"!Not Found"),"Aviso"),l=l.filter("[id^=ResultItems]:first"));l.filter("[id^=ResultItems]").length||r(["Certifique-se que esta selecionando o elemento correto.\n O plugin espera que o elemento seja o que contém o id: #"+(d("div[id^=ResultItems]").attr("id")||"!Not Found"),d("div[id^=ResultItems]")],"Info");l.parent().filter("[id^=ResultItems]").length&&(l=l.parent(),r(["Identifiquei que o seletor pai do elemento que você informou é o #"+(jQuery("div[id^=ResultItems]").attr("id")||"!Not Found")+".\n Como forma de corrigir esse problema de seleção de elemento, assumirei a prateleira correta.",l],"Aviso"));d("body").append(a.returnToTop);var c=d(window),n=d(document),s=d(a.scrollBy),u=d(a.elemLoading);i.toTopE=d(a.returnToTop);i.moreResults=!0;i.currentPage=2;var f=function(){var t,n=/\/buscapagina\?.+&PageNumber=/i,o=/\/paginaprateleira\?.+PageNumber=/i;d("script:not([src])").each(function(){var e=this.innerHTML;if(-1<e.indexOf("buscapagina"))return t=n.exec(e),!1;if(-1<e.indexOf("paginaprateleira"))return t=o.exec(e),!1});if("object"===typeof t&&"undefined"!==typeof t[0])return t[0].replace("paginaprateleira","buscapagina");r("Não foi possível localizar a url de busca da página.\n Tente adicionar o .js ao final da página. \n[Método: getSearchUrl]");return""};(function(){var e=c.height();c.bind("resize.QD_infinityScroll",function(){e=c.height()});var t=0;s.bind("scroll.QD_infinityScroll",function(){clearTimeout(t);t=setTimeout(function(){n.scrollTop()>e?document.body.getAttribute("data-qd-infinity-scroll")||document.body.setAttribute("data-qd-infinity-scroll",1):document.body.getAttribute("data-qd-infinity-scroll")&&document.body.removeAttribute("data-qd-infinity-scroll")},20)});i.buttonToTop=i.toTopE.find("a").bind("click.QD_infinityScroll",function(){jQuery("html,body").animate({scrollTop:0},"slow");return!1})})();(function(){i.searchUrl=null!==a.searchUrl?a.searchUrl:f();i.currentStatus=!0;var e=d(".pager[id*=PagerTop]:first").attr("id")||"";if(""!==e&&(i.pages=window["pagecount_"+e.split("_").pop()],"undefined"===typeof i.pages))for(var t in window)if(/pagecount_[0-9]+/.test(t)){i.pages=window[t];break}"undefined"===typeof i.pages&&(i.pages=9999999999999);var n=function(){if(i.currentStatus){var t=l.find(a.lastShelf);if(1>t.length)return r("Última Prateleira/Vitrine não encontrada \n ("+t.selector+")"),!1;t.after(u);i.currentStatus=!1;var n=i.currentPage;d.ajax({url:i.searchUrl.replace(/pagenumber\=[0-9]*/i,"PageNumber="+i.currentPage),dataType:"html",success:function(e){1>e.trim().length?(i.moreResults=!1,r("Não existem mais resultados a partir da página: "+n,"Aviso"),d(window).trigger("QuatroDigital.is_noMoreResults")):a.insertContent(t,e);i.currentStatus=!0;u.remove()},error:function(){r("Houve um erro na requisição Ajax de uma nova página.")},complete:function(e,t){a.callback();d(window).trigger("QuatroDigital.is_Callback")}});i.currentPage++}};if("function"===typeof a.paginate)a.paginate(function(){return i.currentPage<=i.pages&&i.moreResults?(n(),!0):!1});else{var o=0;s.bind("scroll.QD_infinityScroll_paginate",function(){clearTimeout(o);o=setTimeout(function(){i.currentPage<=i.pages&&i.moreResults&&a.authorizeScroll()&&c.scrollTop()+c.height()>=a.getShelfHeight(l)&&n()},70)})}})();return l},d(document).ajaxSend(function(e,t,n){-1<n.url.indexOf("PageNumber")&&0<n.url.search(/PageNumber\=[^0-9]+/)&&t.abort()}),window.goToTopPage=function(){},d(function(){window.goToTopPage=function(){}}))})(jQuery);