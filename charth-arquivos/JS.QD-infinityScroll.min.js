"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),function(g){"function"!=typeof g.fn.QD_infinityScroll&&(window._QuatroDigital_InfinityScroll=window._QuatroDigital_InfinityScroll||{},g.fn.QD_infinityScroll=function(e){var l=window._QuatroDigital_InfinityScroll,c=function(e,t){var o;if("object"==typeof console&&void 0!==console.error&&void 0!==console.info&&void 0!==console.warn)if("object"==typeof e?(e.unshift("[Infinity Scroll]\n"),o=e):o=["[Infinity Scroll]\n"+e],void 0===t||"alerta"!==t.toLowerCase()&&"aviso"!==t.toLowerCase())if(void 0!==t&&"info"===t.toLowerCase())try{console.info.apply(console,o)}catch(e){try{console.info(o.join("\n"))}catch(e){}}else try{console.error.apply(console,o)}catch(e){try{console.error(o.join("\n"))}catch(e){}}else try{console.warn.apply(console,o)}catch(e){try{console.warn(o.join("\n"))}catch(e){}}},t={lastShelf:">div:last",elemLoading:'\x3c!-- Infinity Scroll - Loading message --\x3e<div id="scrollLoading" class="qd-is-loading">Loading ... </div>',searchUrl:null,returnToTop:g('<div id="returnToTop" class="qd-is-return-top"><a href="#"><span class="text">voltar ao</span><span class="text2">TOPO</span><span class="arrowToTop"></span></a></div>'),scrollBy:document,callback:function(){},getShelfHeight:function(e){return e.scrollTop()+e.height()},paginate:null,insertContent:function(e,t){e.after(t)},authorizeScroll:function(){return!0}},s=jQuery.extend({},t,e),u=jQuery(this);if(jQuery(""),u.length<1)return u;1<u.length&&(c("Identifiquei que a seletor informado ("+u.selector+") retornou "+u.length+" elementos.\n Para solucionar o problema estou selecionando automáticamente o primeiro com o id: #"+(u.filter("[id^=ResultItems]:first").attr("id")||"!Not Found"),"Aviso"),u=u.filter("[id^=ResultItems]:first")),u.filter("[id^=ResultItems]").length||c(["Certifique-se que esta selecionando o elemento correto.\n O plugin espera que o elemento seja o que contém o id: #"+(g("div[id^=ResultItems]").attr("id")||"!Not Found"),g("div[id^=ResultItems]")],"Info"),u.parent().filter("[id^=ResultItems]").length&&(u=u.parent(),c(["Identifiquei que o seletor pai do elemento que você informou é o #"+(jQuery("div[id^=ResultItems]").attr("id")||"!Not Found")+".\n Como forma de corrigir esse problema de seleção de elemento, assumirei a prateleira correta.",u],"Aviso")),g("body").append(s.returnToTop);var d=g(window),o=g(document),f=g(s.scrollBy),p=g(s.elemLoading);l.toTopE=g(s.returnToTop),l.moreResults=!0,l.currentPage=2;return function(){var e=d.height();d.bind("resize.QD_infinityScroll",function(){e=d.height()});var t=0;f.bind("scroll.QD_infinityScroll",function(){clearTimeout(t),t=setTimeout(function(){o.scrollTop()>e?document.body.getAttribute("data-qd-infinity-scroll")||document.body.setAttribute("data-qd-infinity-scroll",1):document.body.getAttribute("data-qd-infinity-scroll")&&document.body.removeAttribute("data-qd-infinity-scroll")},20)}),l.buttonToTop=l.toTopE.find("a").bind("click.QD_infinityScroll",function(){return jQuery("html,body").animate({scrollTop:0},"slow"),!1})}(),function(){var t,o,n;l.searchUrl=null!==s.searchUrl?s.searchUrl:(o=/\/buscapagina\?.+&PageNumber=/i,n=/\/paginaprateleira\?.+PageNumber=/i,g("script:not([src])").each(function(){var e=this.innerHTML;return-1<e.indexOf("buscapagina")?(t=o.exec(e),!1):-1<e.indexOf("paginaprateleira")?(t=n.exec(e),!1):void 0}),"object"==typeof t&&void 0!==t[0]?t[0].replace("paginaprateleira","buscapagina"):(c("Não foi possível localizar a url de busca da página.\n Tente adicionar o .js ao final da página. \n[Método: getSearchUrl]"),"")),l.currentStatus=!0;var e=g(".pager[id*=PagerTop]:first").attr("id")||"";if(""!==e&&(l.pages=window["pagecount_"+e.split("_").pop()],void 0===l.pages))for(var i in window)if(/pagecount_[0-9]+/.test(i)){l.pages=window[i];break}void 0===l.pages&&(l.pages=9999999999999);var r=function(){if(l.currentStatus){var t=u.find(s.lastShelf);if(t.length<1)return c("Última Prateleira/Vitrine não encontrada \n ("+t.selector+")"),!1;t.after(p),l.currentStatus=!1;var o=l.currentPage;g.ajax({url:l.searchUrl.replace(/pagenumber\=[0-9]*/i,"PageNumber="+l.currentPage),dataType:"html",success:function(e){e.trim().length<1?(l.moreResults=!1,c("Não existem mais resultados a partir da página: "+o,"Aviso"),g(window).trigger("QuatroDigital.is_noMoreResults")):s.insertContent(t,e),l.currentStatus=!0,p.remove()},error:function(){c("Houve um erro na requisição Ajax de uma nova página.")},complete:function(e,t){s.callback(),g(window).trigger("QuatroDigital.is_Callback")}}),l.currentPage++}};if("function"==typeof s.paginate)s.paginate(function(){return!!(l.currentPage<=l.pages&&l.moreResults)&&(r(),!0)});else{var a=0;f.bind("scroll.QD_infinityScroll_paginate",function(){clearTimeout(a),a=setTimeout(function(){l.currentPage<=l.pages&&l.moreResults&&s.authorizeScroll()&&d.scrollTop()+d.height()>=s.getShelfHeight(u)&&r()},70)})}}(),u},g(document).ajaxSend(function(e,t,o){-1<o.url.indexOf("PageNumber")&&0<o.url.search(/PageNumber\=[^0-9]+/)&&t.abort()}),window.goToTopPage=function(){},g(function(){window.goToTopPage=function(){}}))}(jQuery);